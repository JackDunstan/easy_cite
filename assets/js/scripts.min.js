(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){function redirectOldUrls(){const url=new URL(window.location.href);const hash=url.hash.substring(1);if(hash.includes("#")){const fragments=hash.split("#");const newParams=new URLSearchParams(url.search);fragments.forEach((fragment=>{if(fragment.startsWith("stn-")){newParams.set("tab",fragment)}else if(fragment.startsWith("subtype-")){newParams.set("accordion",fragment)}}));const newUrl=`${url.origin}${url.pathname}?${newParams.toString()}`;window.location.replace(newUrl)}}redirectOldUrls();const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");const topNavigation=document.querySelector(".top-navigation");const subMenu=document.getElementById("sub-menu");const topNavigationHeight=topNavigation?topNavigation.offsetHeight:0;let totalOffset=0;if(subMenu&&window.getComputedStyle(subMenu).display!=="none"){totalOffset=subMenu.offsetHeight}else{totalOffset=topNavigationHeight}window.scrollTo({top:target.getBoundingClientRect().top+window.scrollY-totalOffset,behavior:"smooth"});requestAnimationFrame((()=>{const focusableElement=target.querySelector(".accordion-button, .nav-link");if(focusableElement){focusableElement.focus()}}))}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){function redirectOldUrls(){const url=new URL(window.location.href);const hash=url.hash.substring(1);if(hash.includes("#")){const fragments=hash.split("#");const newParams=new URLSearchParams(url.search);fragments.forEach((fragment=>{if(fragment.startsWith("stn-")){newParams.set("tab",fragment)}else if(fragment.startsWith("subtype-")){newParams.set("accordion",fragment)}}));const newUrl=`${url.origin}${url.pathname}?${newParams.toString()}`;window.location.replace(newUrl)}}redirectOldUrls();const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");const topNavigation=document.querySelector(".top-navigation");const subMenu=document.getElementById("sub-menu");const topNavigationHeight=topNavigation?topNavigation.offsetHeight:0;let totalOffset=0;if(subMenu&&window.getComputedStyle(subMenu).display!=="none"){totalOffset=subMenu.offsetHeight}else{totalOffset=topNavigationHeight}window.scrollTo({top:target.getBoundingClientRect().top+window.scrollY-totalOffset,behavior:"smooth"});requestAnimationFrame((()=>{const focusableElement=target.querySelector(".accordion-button, .nav-link");if(focusableElement){focusableElement.focus()}}))}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){function redirectOldUrls(){const url=new URL(window.location.href);const hash=url.hash.substring(1);if(hash.includes("#")){const fragments=hash.split("#");const newParams=new URLSearchParams(url.search);fragments.forEach((fragment=>{if(fragment.startsWith("stn-")){newParams.set("tab",fragment)}else if(fragment.startsWith("subtype-")){newParams.set("accordion",fragment)}}));const newUrl=`${url.origin}${url.pathname}?${newParams.toString()}`;window.location.replace(newUrl)}}redirectOldUrls();const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");const topNavigationHeight=document.querySelector(".top-navigation")?.offsetHeight||0;const subMenuHeight=document.getElementById("sub-menu")?.offsetHeight||0;const totalOffset=subMenuHeight;window.scrollTo({top:target.getBoundingClientRect().top+window.scrollY-totalOffset,behavior:"smooth"});requestAnimationFrame((()=>{target.querySelector(".accordion-button, .nav-link").focus()}))}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){function redirectOldUrls(){const url=new URL(window.location.href);const hash=url.hash.substring(1);if(hash.includes("#")){const fragments=hash.split("#");const newParams=new URLSearchParams(url.search);fragments.forEach((fragment=>{if(fragment.startsWith("stn-")){newParams.set("tab",fragment)}else if(fragment.startsWith("subtype-")){newParams.set("accordion",fragment)}}));const newUrl=`${url.origin}${url.pathname}?${newParams.toString()}`;window.location.replace(newUrl)}}redirectOldUrls();const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");const topNavigationHeight=document.querySelector(".top-navigation")?.offsetHeight||0;const subMenuHeight=document.getElementById("sub-menu")?.offsetHeight||0;const totalOffset=topNavigationHeight+subMenuHeight;window.scrollTo({top:target.getBoundingClientRect().top+window.scrollY-totalOffset,behavior:"smooth"});requestAnimationFrame((()=>{target.querySelector(".accordion-button, .nav-link").focus()}))}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){function redirectOldUrls(){const url=new URL(window.location.href);const hash=url.hash.substring(1);if(hash.includes("#")){const fragments=hash.split("#");const newParams=new URLSearchParams(url.search);fragments.forEach((fragment=>{if(fragment.startsWith("stn-")){newParams.set("tab",fragment)}else if(fragment.startsWith("subtype-")){newParams.set("accordion",fragment)}}));const newUrl=`${url.origin}${url.pathname}?${newParams.toString()}`;window.location.replace(newUrl)}}redirectOldUrls();const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");const topNavigation=document.querySelector(".top-navigation");const subMenu=document.querySelector(".sub-menu");const topNavigationHeight=topNavigation?topNavigation.getBoundingClientRect().height:0;const subMenuHeight=subMenu?subMenu.getBoundingClientRect().height:0;const totalOffset=topNavigationHeight+subMenuHeight;window.scrollTo({top:target.getBoundingClientRect().top+window.scrollY-totalOffset,behavior:"smooth"});requestAnimationFrame((()=>{const focusableElement=target.querySelector(".accordion-button, .nav-link");if(focusableElement){focusableElement.focus()}}))}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){function redirectOldUrls(){const url=new URL(window.location.href);const hash=url.hash.substring(1);if(hash.includes("#")){const fragments=hash.split("#");const newParams=new URLSearchParams(url.search);fragments.forEach((fragment=>{if(fragment.startsWith("stn-")){newParams.set("tab",fragment)}else if(fragment.startsWith("subtype-")){newParams.set("accordion",fragment)}}));const newUrl=`${url.origin}${url.pathname}?${newParams.toString()}`;window.location.replace(newUrl)}}redirectOldUrls();const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");const topNavigationHeight=document.querySelector(".top-navigation")?.offsetHeight||0;const subMenuHeight=document.querySelector(".sub-menu")?.offsetHeight||0;const totalOffset=topNavigationHeight+subMenuHeight;window.scrollTo({top:target.getBoundingClientRect().top+window.scrollY-totalOffset,behavior:"smooth"});requestAnimationFrame((()=>{target.querySelector(".accordion-button, .nav-link").focus()}))}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){function redirectOldUrls(){const url=new URL(window.location.href);const hash=url.hash.substring(1);if(hash.includes("#")){const fragments=hash.split("#");const newParams=new URLSearchParams(url.search);fragments.forEach((fragment=>{if(fragment.startsWith("stn-")){newParams.set("tab",fragment)}else if(fragment.startsWith("subtype-")){newParams.set("accordion",fragment)}}));const newUrl=`${url.origin}${url.pathname}?${newParams.toString()}`;window.location.replace(newUrl)}}redirectOldUrls();const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){function redirectOldUrls(){const url=new URL(window.location.href);const hash=url.hash.substring(1);if(hash.includes("#")){const fragments=hash.split("#");const newParams=new URLSearchParams(url.search);fragments.forEach((fragment=>{if(fragment.startsWith("stn-")){newParams.set("tab",fragment)}else if(fragment.startsWith("subtype-")){newParams.set("accordion",fragment)}}));const newUrl=`${url.origin}${url.pathname}?${newParams.toString()}`;window.location.replace(newUrl)}}redirectOldUrls();const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));(function(g,e,n,es,ys){g["_genesysJs"]=e;g[e]=g[e]||function(){(g[e].q=g[e].q||[]).push(arguments)};g[e].t=1*new Date;g[e].c=es;ys=document.createElement("script");ys.async=1;ys.src=n;ys.charset="utf-8";document.head.appendChild(ys)})(window,"Genesys","https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",{environment:"prod-apse2",deploymentId:"4b536883-25d5-4149-8a63-b2d088976c24"});let button=document.createElement("button");button.id="launcherButton";button.title="Ask the Library";button.setAttribute("aria-label",button.title);button.innerHTML=`\n<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF">\n<path d="M0 0h24v24H0z" fill="none" />\n<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n</svg>\n<p id="buttonText">Ask the Library</p>`;let buttonStyles=document.createElement("style");buttonStyles.innerHTML=`\n#launcherButton{\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 5px -2px, rgba(0, 0, 0, 0.14) 0px 1px 4px 2px, rgba(0, 0, 0, 0.12) 0px 1px 4px 1px;\n  box-sizing: content-box;\n  position: fixed !important;\n  bottom: 25px !important;\n  width: 170px;\n  height: 40px;\n  right: 28px !important;\n  border-radius: 50px;\n  background-color: #e61e2a;\n  z-index: 9999;\n  border: 0px;\n  padding-top: 8px;\n}\n#buttonText{\n  display: inline;\n  vertical-align: top;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  margin-left: 4px;\n}`;document.body.appendChild(button);document.body.appendChild(buttonStyles);button.addEventListener("click",(async()=>{Genesys("command","Messenger.open")}));document.addEventListener("DOMContentLoaded",(function(){const getStoredTheme=()=>localStorage.getItem("theme");const getPreferredTheme=()=>{const storedTheme=getStoredTheme();if(storedTheme){return storedTheme}return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};const setTheme=theme=>{if(theme==="auto"){document.documentElement.setAttribute("data-bs-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else{document.documentElement.setAttribute("data-bs-theme",theme)}};setTheme(getPreferredTheme());const params=new URLSearchParams(window.location.search);let styleguide=params.get("styleguide");let tabopen=params.get("tab")?`#${params.get("tab")}`:"";let accordopen=params.get("accordion")?`#${params.get("accordion")}`:"";document.querySelectorAll(".btn-nav-container button").forEach((button=>{button.addEventListener("click",(function(){const tabIndex=this.getAttribute("data-tab-index");const tabButton=document.querySelector(`.nav-link[data-bs-target="#sgt-${tabIndex}"]`);if(tabButton){tabButton.click()}}))}));function isElementTopInViewport(el){const rect=el.getBoundingClientRect();const offsetHeight=getOffsetHeight();return rect.top>=offsetHeight&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function scrollToPageContentIfNeeded(target){const pageContent=document.getElementById("page-content");if(pageContent&&!isElementTopInViewport(target)){pageContent.scrollIntoView({behavior:"smooth",block:"start"})}}function getOffsetHeight(){const topNav=document.getElementById("top-navigation");const subMenu=document.getElementById("sub-menu");const topNavHeight=topNav?topNav.offsetHeight:0;const subMenuHeight=subMenu?subMenu.offsetHeight:0;return topNavHeight+subMenuHeight}function updateTabAndAccordionFromParams(setparam){console.log("Processing tab or accordion state from params");let target=document.querySelector(setparam);if(target){if(setparam.includes("stn")){const instance=new bootstrap.Tab(target);instance.show()}else if(setparam.includes("subtype")){const accordionItem=target.closest(".accordion-item");accordionItem.querySelector(".accordion-collapse").classList.add("show");accordionItem.querySelector(".accordion-button").classList.remove("collapsed");accordionItem.querySelector(".accordion-button").setAttribute("aria-expanded","true");target=accordionItem}if(params.get("accordion")){setTimeout((()=>{console.log("Scrolling and focusing target");target.scrollIntoView({behavior:"smooth",block:"start"});target.querySelector(".accordion-button, .nav-link").focus()}),500)}}}function updateQueryStringAndReload(event){console.log("Updating query string and reloading for style guide change");event.preventDefault();const button=event.target.closest("a[data-styleguide]");if(!button)return;const newStyleguide=button.getAttribute("data-styleguide");if(newStyleguide){params.set("styleguide",newStyleguide);params.delete("tab");params.delete("accordion");window.history.pushState({},"",`${location.pathname}?${params.toString()}`);location.href=location.href}}function updateParams(fragment,type){console.log("Updating URL params");if(type==="tab"){params.set("tab",fragment);params.delete("accordion")}else if(type==="accordion"){params.set("accordion",fragment);const activeTab=document.querySelector(".nav-link.active");if(activeTab){const activeTabId=activeTab.getAttribute("id");params.set("tab",activeTabId)}}const orderedParams=new URLSearchParams;if(styleguide)orderedParams.set("styleguide",styleguide);if(params.get("tab"))orderedParams.set("tab",params.get("tab"));if(params.get("accordion"))orderedParams.set("accordion",params.get("accordion"));window.history.pushState({},"",`${window.location.pathname}?${orderedParams.toString()}`)}const navTab=document.getElementById("nav-tab");if(navTab){navTab.addEventListener("click",updateQueryStringAndReload)}const homeSectionMenu=document.getElementById("home-section-menu");if(homeSectionMenu){homeSectionMenu.addEventListener("click",updateQueryStringAndReload)}const menuTab=document.getElementById("context-menu");if(menuTab){menuTab.addEventListener("click",updateQueryStringAndReload)}document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("id");updateParams(setparam,"tab")}))}));document.querySelectorAll(".accordion-button").forEach((button=>{button.addEventListener("click",(function(){const setparam=this.getAttribute("data-bs-target").substring(1);updateParams(setparam,"accordion")}))}));document.querySelectorAll('[data-bs-toggle="tab"]').forEach((tab=>{tab.addEventListener("shown.bs.tab",(function(){const targetPane=document.querySelector(this.getAttribute("data-bs-target"));if(targetPane){scrollToPageContentIfNeeded(targetPane);const accordionHeaders=targetPane.querySelectorAll(".accordion-button");accordionHeaders.forEach((header=>{if(header.textContent.toLowerCase().includes("introduction")){const accordionBody=header.closest(".accordion-item").querySelector(".accordion-collapse");header.classList.remove("collapsed");header.setAttribute("aria-expanded","true");accordionBody.classList.add("show")}}))}}))}));if(tabopen)updateTabAndAccordionFromParams(tabopen);if(accordopen)updateTabAndAccordionFromParams(accordopen);function printThisGuide(elem){const thisButtonClass=elem.className;let printDiv;if(thisButtonClass.includes("sectionprint")){printDiv=elem.closest(".accordion-item");if(!printDiv){console.error("Accordion section not found.");return}}else if(thisButtonClass.includes("partprint")){printDiv=elem.closest(".tab-pane");if(!printDiv){console.error("Tab pane not found.");return}}else if(thisButtonClass.includes("guideprint")){printDiv=document.getElementById("nav-tabContent-0");if(!printDiv){console.error("Printable guide not found.");return}}if(printDiv){const printTitle=document.querySelector("h1").textContent;const printContents=printDiv.innerHTML;const printWindow=window.open("","","height=1200, width=800");if(printWindow){printWindow.document.write("<html><head>");printWindow.document.write('<link href="css/printstyles.css" rel="stylesheet">');printWindow.document.write("</head><body>");printWindow.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>");printWindow.document.write("<h2>"+printTitle+" Style Guide</h2>");printWindow.document.write('<div class="printsectionguide">'+printContents+"</div>");printWindow.document.close();setTimeout((()=>{printWindow.print()}),500)}else{console.error("Failed to open print window.")}}}document.querySelectorAll(".btn-print").forEach((button=>{button.addEventListener("click",(function(){printThisGuide(this)}))}))}));document.addEventListener("DOMContentLoaded",(function(){const t=new URLSearchParams(window.location.search);let e=t.get("styleguide"),n=t.get("tab")?`#${t.get("tab")}`:"",o=t.get("accordion")?`#${t.get("accordion")}`:"";function c(t){const e=document.getElementById("page-content");e&&!function(t){const e=t.getBoundingClientRect();return e.top>=0&&e.top<(window.innerHeight||document.documentElement.clientHeight)}(t)&&e.scrollIntoView({behavior:"smooth",block:"start"})}function i(e){let n=document.querySelector(e);if(n){if(e.includes("stn")){new bootstrap.Tab(n).show()}else if(e.includes("subtype")){const t=n.closest(".accordion-item");t.querySelector(".accordion-collapse").classList.add("show"),t.querySelector(".accordion-button").classList.remove("collapsed"),t.querySelector(".accordion-button").setAttribute("aria-expanded","true"),n=t}t.get("accordion")&&setTimeout((()=>{n.scrollIntoView({behavior:"smooth",block:"start"}),n.querySelector(".accordion-button, .nav-link").focus()}),500)}}function r(e){e.preventDefault();const n=e.target.closest("a[data-styleguide]");if(!n)return;const o=n.getAttribute("data-styleguide");o&&(t.set("styleguide",o),t.delete("tab"),t.delete("accordion"),window.history.pushState({},"",`${location.pathname}?${t.toString()}`),location.href=location.href)}function a(n,o){if("tab"===o)t.set("tab",n),t.delete("accordion");else if("accordion"===o){t.set("accordion",n);const e=document.querySelector(".nav-link.active");if(e){const n=e.getAttribute("id");t.set("tab",n)}}const c=new URLSearchParams;e&&c.set("styleguide",e),t.get("tab")&&c.set("tab",t.get("tab")),t.get("accordion")&&c.set("accordion",t.get("accordion")),window.history.pushState({},"",`${window.location.pathname}?${c.toString()}`)}document.querySelectorAll(".btn-nav-container button").forEach((t=>{t.addEventListener("click",(function(){const t=this.getAttribute("data-tab-index"),e=document.querySelector(`.nav-link[data-bs-target="#sgt-${t}"]`);e&&e.click()}))}));const s=document.getElementById("nav-tab");s&&s.addEventListener("click",r);const d=document.getElementById("home-section-menu");d&&d.addEventListener("click",r),document.querySelectorAll('.nav-link[data-bs-toggle="tab"]').forEach((t=>{t.addEventListener("click",(function(){a(this.getAttribute("id"),"tab")}))})),document.querySelectorAll(".accordion-button").forEach((t=>{t.addEventListener("click",(function(){a(this.getAttribute("data-bs-target").substring(1),"accordion")}))})),document.querySelectorAll('[data-bs-toggle="tab"]').forEach((t=>{t.addEventListener("shown.bs.tab",(function(){const t=document.querySelector(this.getAttribute("data-bs-target"));if(t){c(t);t.querySelectorAll(".accordion-button").forEach((t=>{if(t.textContent.toLowerCase().includes("introduction")){const e=t.closest(".accordion-item").querySelector(".accordion-collapse");t.classList.remove("collapsed"),t.setAttribute("aria-expanded","true"),e.classList.add("show")}}))}}))})),n&&i(n),o&&i(o),document.querySelectorAll(".btn-print").forEach((t=>{t.addEventListener("click",(function(){!function(t){const e=t.className;let n;if(e.includes("sectionprint")){if(n=t.closest(".accordion-item"),!n)return}else if(e.includes("partprint")){if(n=t.closest(".tab-pane"),!n)return}else if(e.includes("guideprint")&&(n=document.getElementById("nav-tabContent-0"),!n))return;if(n){const t=document.querySelector("h1").textContent,e=n.innerHTML,o=window.open("","","height=1200, width=800");o&&(o.document.write("<html><head>"),o.document.write('<link href="css/printstyles.css" rel="stylesheet">'),o.document.write("</head><body>"),o.document.write("<h1>RMIT Library: Easy Cite online referencing resource</h1>"),o.document.write("<h2>"+t+" Style Guide</h2>"),o.document.write('<div class="printsectionguide">'+e+"</div>"),o.document.close(),setTimeout((()=>{o.print()}),500))}}(this)}))}))}));